#!/usr/bin/env python

from setupd_samples.utils.pf9_master_setup import main
import logging, sys
import urllib3
urllib3.disable_warnings()
root = logging.getLogger()

ch = logging.FileHandler('/var/log/pf9-worker-setup.log')
ch.setLevel(logging.DEBUG)
formatter = logging.Formatter('%(asctime)s - %(message)s')
ch.setFormatter(formatter)
root.addHandler(ch)

LOG = logging.getLogger(__name__)

if __name__ == '__main__':
    try:
        main()
        print "Worker setup is done"
    except Exception as ex:
        print "worker setup failed"
        LOG.exception(ex)
        LOG.critical('Really bad things happened: %s', str(ex))
        sys.exit(1)



