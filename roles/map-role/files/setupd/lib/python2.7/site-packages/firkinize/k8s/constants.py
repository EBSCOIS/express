# Copyright (c) 2018 Platform9 systems. All rights reserved

NON_PREEMPTIBLE_NODE_AFFINITY = {
    'nodeAffinity':{
        'requiredDuringSchedulingIgnoredDuringExecution': {
            'nodeSelectorTerms': [
                {
                    'matchExpressions': [
                        {
                            'key': 'cloud.google.com/gke-preemptible',
                            'operator': 'DoesNotExist'
                        }
                    ]
                }
            ]
        }
    }
}

PREEMPTIBLE_NODE_AFFINITY_REQUIREMENT = {
    'nodeAffinity': {
        'requiredDuringSchedulingIgnoredDuringExecution': {
            'nodeSelectorTerms': [
                {
                    'matchExpressions': [
                        {
                            'key': 'cloud.google.com/gke-preemptible',
                            'operator': 'In',
                            'values': ['true']
                        }
                    ]
                }
            ]
        }
    }
}

PREEMPTIBLE_NODE_AFFINITY_PREFERENCE = {
    'nodeAffinity': {
        'preferredDuringSchedulingIgnoredDuringExecution': [
            {
                'weight': 1,
                'preference': {
                    'matchExpressions': [
                        {
                            'key': 'cloud.google.com/gke-preemptible',
                            'operator': 'In',
                            'values': ['true']
                        }
                    ]
                }
            }
        ]
    }
}

