# Copyright (c) 2018 Platform9 systems. All rights reserved

import logging
import uuid
from firkinize.misc.password import generate_setupd_valid_password

LOG = logging.getLogger(__name__)


def generate_customer_and_region_config_for_testing(customer_shortname, domain):
    """
    Given the specified customer short name and domain name, generates
    configuration information including UUIDs and credentials for keystone
    and mysql.
    :param customer_shortname: customer short name
    :param domain: domain name
    :return: a tuple containing customer fqdn, region name, admin user name,
      admin passowrd, customer UUID, region UUID, keystone admin password,
      database user name, and database password
    """
    admin_user = 'whoever@example.com'
    admin_password = generate_setupd_valid_password()
    LOG.info('admin password: %s', admin_password)

    customer_fqdn = '%s.%s' % (customer_shortname, domain)
    region_name = 'RegionOne'

    # This will be useful at some point
    # region_fqdn = '%s-%s.%s' % (customer_shortname, region_name, domain)

    customer_uuid = str(uuid.uuid4())
    region_uuid = str(uuid.uuid4())
    keystone_admin_pwd = generate_setupd_valid_password()
    db_user = 'root'
    db_password = generate_setupd_valid_password()

    return (
        customer_fqdn,
        region_name,
        admin_user,
        admin_password,
        customer_uuid,
        region_uuid,
        keystone_admin_pwd,
        db_user,
        db_password
    )
